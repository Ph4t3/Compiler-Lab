MOV R1, SP
MOV R2, 5
SUB R1, R2
MOV R1, [R1]
MOV R2, "Write"
EQ R2, R1
JNZ R2, 28
MOV R1, "Read"
EQ R2, R1
JNZ R2, 32
MOV R2, "Exit"
EQ R2, R1
JNZ R2, 36
JMP 112
MOV R7, 5
JMP 38
MOV R7, 7
JMP 38
MOV R7, 10
MOV R11, SP
MOV R12, 4
SUB R11, R2
MOV R12, [R1]
ADD R11, 1
MOV R13, [R1]
ADD R11, 1
MOV R14, [R1]
PUSH R7
PUSH R12
PUSH R13
PUSH R14
PUSH R7
MOV R2, "Write"
EQ R2, R1
JNZ R2, 84
MOV R1, "Read"
EQ R2, R1
JNZ R2, 88
MOV R2, "Exit"
EQ R2, R1
JNZ R2, 92
JMP 112
INT 7
JMP 94
INT 6
JMP 94
INT 10
POP R1
POP R2
POP R2
POP R2
POP R2
MOV R2, SP
MOV R3, 1
SUB R2, R3
MOV [R2], R1
RET
